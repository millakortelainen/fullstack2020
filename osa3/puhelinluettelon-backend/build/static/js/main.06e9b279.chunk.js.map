{"version":3,"sources":["components/Person.js","components/People.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/ErrorNotification.js","services/people.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","People","people","peopleService","setPeople","setMessage","map","i","key","id","window","confirm","find","p","setTimeout","remove","filter","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","handleFilterChange","Notification","message","className","ErrorNotification","baseUrl","getAll","axios","get","then","response","data","create","newObject","post","update","put","delete","App","useState","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","initialPeople","peopleToShow","toLowerCase","includes","event","target","preventDefault","found","undefined","personObject","returnedPerson","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06e9b279.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, removePerson }) => <li>{person.name} {person.number}\n<button onClick={removePerson}>delete</button>\n</li>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst People = ({ people, peopleService, setPeople, setMessage }) => {\n    const removePerson = id => {\n        const result = window.confirm(`Delete ${people.find(p => p.id === id).name}?`)\n        if (result) {\n            setMessage(`${people.find(p => p.id === id).name} removed from phonebook`)\n            setTimeout(() => {\n                setMessage(null)\n            }, 5000)\n            peopleService\n                .remove(id)\n            setPeople(people.filter(p => p.id !== id))\n\n        }\n\n    }\n    return (\n        <ul>\n            {people.map((person, i) =>\n                <Person key={person.name} person={person}\n                    removePerson={() => removePerson(person.id)} />\n            )}\n        </ul>\n    )\n}\n\nexport default People","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => (\n    <form onSubmit={addPerson}>\n                <div>\n                    name: <input value={newName}\n                        onChange={handleNameChange} />\n                </div>\n                <div>\n                    number: <input value={newNumber}\n                        onChange={handleNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({handleFilterChange}) => <div>filter shown with: <input onChange={handleFilterChange}></input></div>\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"message\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport People from './components/People'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport peopleService from './services/people'\n\n\n\nconst App = () => {\n    const [people, setPeople] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [message, setMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        peopleService\n            .getAll()\n            .then(initialPeople => {\n                setPeople(initialPeople)\n            })\n    }, [])\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const found = people.find(person => person.name === newName)\n\n        if (found !== undefined) {\n            const personObject = {\n                name: found.name,\n                number: newNumber\n            }\n            const result = window.confirm(`${found.name} is already added to phonebook, replace the old number with a new one?`)\n            if (result) {\n                peopleService\n                    .update(found.id, personObject)\n                    .then(returnedPerson => {\n                        setPeople(people.map(p => p.id !== found.id ? p : returnedPerson))\n                        setMessage(`${found.name}'s number updated`)\n                        setTimeout(() => {\n                            setMessage(null)\n                        }, 5000)\n                    })\n                    .catch(error => {\n                        setErrorMessage(`Information of ${found.name} was already removed from server.`)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                        setPeople(people.filter(p => p.id !== found.id))\n                    })\n\n\n            }\n        } else {\n            const personObject = {\n                name: newName,\n                number: newNumber\n            }\n            peopleService\n                .create(personObject)\n                .then(returnedPerson => {\n                    setPeople(people.concat(returnedPerson))\n                    setMessage(`${personObject.name} added to phonebook`)\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setErrorMessage(error.response.data.error)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n\n        }\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const peopleToShow = people.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message} />\n            <ErrorNotification message={errorMessage} />\n            <Filter handleFilterChange={handleFilterChange} />\n            <h2>add a new</h2>\n            <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n                newNumber={newNumber} handleNumberChange={handleNumberChange} />\n            <h2>Numbers</h2>\n            <People people={peopleToShow} peopleService={peopleService}\n                setPeople={setPeople} setMessage={setMessage} />\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}